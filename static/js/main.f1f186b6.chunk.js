(this["webpackJsonpwhats-the-weather"]=this["webpackJsonpwhats-the-weather"]||[]).push([[0],{13:function(e,a,t){e.exports={pageHeader:"PageHeader_pageHeader__3l_28",logo:"PageHeader_logo__2qcHR",settings:"PageHeader_settings__8aLZu"}},16:function(e,a,t){e.exports={light:"ThemeContainer_light__2ySts",dark:"ThemeContainer_dark__fXumE"}},17:function(e,a,t){e.exports={pageSearch:"Home_pageSearch__301k6",pageCards:"Home_pageCards__1M-tS"}},33:function(e,a,t){e.exports=t.p+"static/media/logo.d488f7c0.svg"},34:function(e,a,t){e.exports={error:"ErrorMessage_error__3vZcv"}},37:function(e,a,t){e.exports={pageFooter:"PageFooter_pageFooter__W30_N"}},43:function(e,a,t){e.exports=t(72)},71:function(e,a,t){},72:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),c=t(31),l=t.n(c),s=t(41),o=t(2),u=t(6),i=t.n(u),m=t(42),p=t(11),d=t(7),h=t(38),E=t(39),f=t(32),g={baseURL:"https://api.openweathermap.org/data/2.5/",appid:"eed7c5dd45934b30dbe53cde898f3a45"},b=t.n(f).a.create({baseURL:g.baseURL,params:{appid:g.appid}}),_=function(){var e=Object(p.a)(i.a.mark((function e(a,t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.get("/weather?q=".concat(a,"&units=").concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),v=function(e){var a=Object(n.useState)(e),t=Object(d.a)(a,2),r=t[0],c=t[1];return Object(n.useEffect)((function(){var e=localStorage.getItem("@whats-the-weather:DarkTheme");if(e){var a=JSON.parse(e);c(a)}}),[]),Object(n.useEffect)((function(){localStorage.setItem("@whats-the-weather:DarkTheme",JSON.stringify(r))}),[r]),[r,c]},k=t(13),w=t.n(k),y=t(33),C=t.n(y),x=t(15),N=function(e){var a=e.dark,t=e.onThemeChange;return r.a.createElement("button",{className:"btnLink",onClick:function(){return t()}},a?r.a.createElement(r.a.Fragment,null,r.a.createElement(x.b,{size:15}),r.a.createElement("span",null,"Lights out")):r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{size:15}),r.a.createElement("span",null,"Lights on")))},O=function(e){var a=e.darkTheme,t=e.onThemeChange;return r.a.createElement("header",{className:w.a.pageHeader},r.a.createElement("div",{className:w.a.logo},r.a.createElement("img",{src:C.a,alt:"Green clouds logo"}),r.a.createElement("h3",null,"What's the weather?")),r.a.createElement("div",{className:w.a.settings},r.a.createElement(N,{dark:a,onThemeChange:t})))},j=t(16),S=t.n(j),T=function(e){var a=e.children,t=e.dark?S.a.dark:S.a.light;return r.a.createElement("div",{className:t},a)},H=t(35),M=t(36),D=t(34),F=t.n(D),L=function(e){var a=e.message,t=e.onErrorClose;return r.a.createElement("div",{className:F.a.error},r.a.createElement("div",null,r.a.createElement(H.a,{size:20}),r.a.createElement("p",null,a)),r.a.createElement("button",{onClick:function(){return t()}},r.a.createElement(M.a,{size:20})))},W=t(8),z=t.n(W),P=function(e){var a=e.weatherData,t=a.name,n=a.sys,c=a.main,l=a.weather,s=a.wind;return r.a.createElement("article",{className:z.a.card},r.a.createElement("header",{className:z.a.cardHeader},r.a.createElement("span",null,t),r.a.createElement("span",null,n.country)),r.a.createElement("div",{className:z.a.cardMain},r.a.createElement("div",{className:z.a.cardTemp},r.a.createElement("img",{src:"https://openweathermap.org/img/w/".concat(l[0].icon,".png"),alt:"weather icon"}),r.a.createElement("span",null,c.temp,"\xb0C")),r.a.createElement("span",null,"Feels like: ",c.feels_like,"\xb0C"),r.a.createElement("span",null,l[0].main,": ",l[0].description)),r.a.createElement("div",{className:z.a.cardDetails},r.a.createElement("div",null,r.a.createElement("span",null,"Max temp: ",c.temp_max,"\xb0C"),r.a.createElement("span",null,"Min temp: ",c.temp_min,"\xb0C")),r.a.createElement("div",null,r.a.createElement("span",null,"Humidity: ",c.humidity,"%"),r.a.createElement("span",null,"Wind speed: ",s.speed,"km/h"))))},I=t(37),J=t.n(I),R=function(){return r.a.createElement("footer",{className:J.a.pageFooter},r.a.createElement("p",null,"Made by ",r.a.createElement("a",{href:"https://github.com/giovcandido",rel:"noopener noreferrer",target:"_blank"},"Giovani Candido")))},Z=t(17),q=t.n(Z),B=function(){var e=v(!0),a=Object(d.a)(e,2),t=a[0],c=a[1],l=Object(n.useState)(""),s=Object(d.a)(l,2),o=s[0],u=s[1],f=Object(n.useState)([]),g=Object(d.a)(f,2),b=g[0],k=g[1],w=Object(n.useState)(""),y=Object(d.a)(w,2),C=y[0],x=y[1],N=function(){var e=Object(p.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_(o,"metric");case 3:a=e.sent,k([a].concat(Object(m.a)(b))),u(""),x(""),e.next=20;break;case 9:e.prev=9,e.t0=e.catch(0),e.t1=e.t0.response.status,e.next=401===e.t1?14:404===e.t1?16:429===e.t1?18:20;break;case 14:return x("Make sure you are using a valid API key."),e.abrupt("break",20);case 16:return x("No city with the specified name was found."),e.abrupt("break",20);case 18:return x("You have made too much requests. Try again in a hour."),e.abrupt("break",20);case 20:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(p.a)(i.a.mark((function e(a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),o){e.next=4;break}return x("Type the name of the city to be searched. Ex: New York."),e.abrupt("return");case 4:if(!b.find((function(e){return e.name===o}))){e.next=8;break}return x("You have already searched for this city."),e.abrupt("return");case 8:N();case 9:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement(T,{dark:t},r.a.createElement("div",{className:"pageContainer"},r.a.createElement(O,{darkTheme:t,onThemeChange:function(){return c(!t)}}),r.a.createElement("section",{className:q.a.pageSearch},r.a.createElement("h1",null,"Get weather information for any city you want"),r.a.createElement("form",{onSubmit:j},r.a.createElement("input",{type:"text",placeholder:"Enter the city name",value:o,onChange:function(e){return u(e.target.value)}}),r.a.createElement("button",{type:"submit"},r.a.createElement(h.a,null)))),C&&r.a.createElement(L,{message:C,onErrorClose:function(){x(""),u("")}}),b.length>0&&r.a.createElement("section",{className:""},r.a.createElement("section",{className:q.a.pageCards},b.map((function(e){return r.a.createElement(P,{key:e.name,weatherData:e})}))),r.a.createElement("button",{className:"btnLink",onClick:function(){return k([])}},r.a.createElement(E.a,{size:15}),r.a.createElement("span",null,"Clear weather cards"))),r.a.createElement(R,null)))},G=function(){return r.a.createElement("h1",null,"City")},U=function(){return r.a.createElement(s.a,{basename:"whats-the-weather"},r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/",exact:!0,component:B}),r.a.createElement(o.a,{path:"/city",component:G})))},Y=(t(71),function(){return r.a.createElement(U,null)});l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Y,null)),document.getElementById("root"))},8:function(e,a,t){e.exports={card:"WeatherCard_card__1rleN",cardHeader:"WeatherCard_cardHeader__xEZtB",cardMain:"WeatherCard_cardMain__1pagX",cardTemp:"WeatherCard_cardTemp__-DBjo",cardDetails:"WeatherCard_cardDetails__3nF_Z"}}},[[43,1,2]]]);
//# sourceMappingURL=main.f1f186b6.chunk.js.map